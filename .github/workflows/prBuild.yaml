name: PR Build Adding a comment with the build scan
on: [pull_request]

permissions:
    pull-requests: write

jobs:
    run-gradle-build:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout project sources
              uses: actions/checkout@v4
            - name: Setup Gradle
              uses: gradle/actions/setup-gradle@v3
              with:
                  add-job-summary-as-pr-comment: always
            - run: ./gradlew assemble
              env:
                GRADLE_ENTERPRISE_ACCESS_KEY: ${{ secrets.GE_API_KEY }}

